{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://xn--rn8h03a.st/schemas/cortex/task-entry.json",
  "title": "Cortex OS Task Entry",
  "description": "Unified task entry format for Cortex OS daily/weekly data",
  "type": "object",
  "required": ["date", "tasks"],
  "properties": {
    "date": {
      "type": "string",
      "pattern": "^\\d{4}-\\d{2}-\\d{2}$",
      "description": "Date in YYYY-MM-DD format"
    },
    "tasks": {
      "type": "array",
      "description": "List of pending tasks",
      "items": { "$ref": "#/definitions/task" }
    },
    "completed": {
      "type": "array",
      "items": { "$ref": "#/definitions/task" },
      "default": []
    },
    "carryover": {
      "type": "array",
      "items": { "$ref": "#/definitions/task" },
      "default": []
    },
    "reflection": {
      "type": "string",
      "default": ""
    },
    "tomorrow_candidates": {
      "type": "array",
      "items": { "type": "string" },
      "default": []
    },
    "metadata": {
      "type": "object",
      "properties": {
        "generated_at": { "type": "string", "format": "date-time" },
        "source": { "type": "string" },
        "version": { "type": "string", "default": "1.0.0" }
      }
    }
  },
  "definitions": {
    "task": {
      "type": "object",
      "required": ["content", "status"],
      "properties": {
        "content": { "type": "string", "minLength": 1 },
        "status": {
          "type": "string",
          "enum": ["pending", "completed", "blocked", "waiting", "cancelled"],
          "default": "pending"
        },
        "tags": {
          "type": "array",
          "items": {
            "type": "string",
            "enum": ["urgent", "blocked", "waiting", "deepwork", "review", "milestone", "done"]
          },
          "default": []
        },
        "emoji": {
          "type": "string",
          "enum": ["âš¡", "ğŸš§", "â³", "ğŸ¯", "ğŸ‘ï¸", "ğŸ‰", ""],
          "default": ""
        },
        "category": { "type": "string", "default": "" },
        "estimate": { "type": "number", "minimum": 0, "default": 1.0 },
        "completed_at": { "type": "string", "format": "date-time" },
        "created_at": { "type": "string", "format": "date-time" }
      }
    }
  }
}
